{% extends "base_site.html" %}
{% block content %}
				<div class="conment-title">
                <table border="0" cellspacing="0" cellpadding="0">
                  <tr>
                    <td class="register"><a href="/rulegrant">授权</a></td>
		    <td class="delete"><a href="#" onclick="revokerule('ruledescription','formrule','/rulerevoke/')">吊销</a></td>
                  </tr>
                </table>                
            </div>

            <div class="conment-div">
           
                <div class="div"
                
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                      <tr>
                        <td width="5" background="/media/images/table/table_l.gif"></td>
                        <td>
				<form id='formrule' action="" method="post"> {% csrf_token %}
                        	<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table">                            
                              <thead>
                                    <tr><th width="4%"><div class="th_div"><span><input id="checkall" name="" type="checkbox" value="" class="a_input" onclick="CheckTitle('ruledescription','checkall')"/></span><span class="rt"></span></div></th>
                                      <th width="20%" >Owner</th>
                                      <th width="10%" >Group Name</th>
                                    <th width="20%" ><span>Protocol</span></th>
                                    <th width="15%" >From Port</th>
                                    <th width="15%" ><span>To Port</span></th>
                                    <th width="20%" ><span>Cidr Ip</span></th>
                              <tbody>
                                {% for rule in rules_list.object_list %}
                                 <tr >
				    <td class="txc"><input name="ruledescription" type="checkbox" value="{{rule.group_name}}:{{ rule.protocol}}:{{ rule.from_port }}:{{ rule.to_port }}:{{ rule.cidr_ip }}" onclick="CheckItem('ruledescription', 'checkall')"/></td>
				    <td align="center" valign="middle">{{ rule.group_owner_id}}</td>
                                    <td align="center" valign="middle">{{ rule.group_name}}</td>
                                    <td align="center" valign="middle">{{ rule.protocol}}</td>
                                    <td align="center" valign="middle">{{ rule.from_port }} </td>
                                    <td align="center" valign="middle">{{ rule.to_port }} </td>
                                    <td align="center" valign="middle">{{ rule.cidr_ip }} </td>
                                 </tr>
                                {% endfor %}
                              </tbody>
                            </table>
                        </td>
                        <td width="5" background="/media/images/table/table_r.gif"></td>
                      </tr>
                      <tr>
                        <td width="5" height="28" background="/media/images/table/table_bl.gif"></td>
                        <td background="/media/images/table/table_bc.gif" height="28">
                        	<div class="div_page">
				<div class="total">共有 <span>{{ num }}</span> 条记录，<span class="current">当前第 <b>
{% if rules_list %}
{{rules_list.number}}/{{rules_list.paginator.num_pages}}
{% else%}
1/1
{% endif %}
</b> 页 </span></div>
 {% if not page_num == 1%}              
                <div class="bn_bn">
{% if rules_list %}
  {% ifequal rules_list.number 1 %}
	<span class="color_a">首页</a></span>
  {% else %}
    <span class="color_a"><a href="?page=1">首页</a></span>
  {% endifequal %}
{% endif %}

{% if rules_list.has_previous %}
<a href="?page={{ rules_list.previous_page_number }}">上一页</a>
{% endif %}

<span>
{% for p in page_range %}
  {% if rules_list %}
	  {% ifequal p rules_list.number %}
	   <span> {{ p }} </span>
	  {% else %}
	    <a href="?page={{ p }}" title="第{{ p }}页">{{p}}</a>
	  {% endifequal %}
  {% else %}
          <span> {{ p }} </span>
  {% endif %}
{% endfor %}
</span>

{% if rules_list.has_next %}
   <a href="?page={{ rules_list.next_page_number }}">下一页</a>
   <a href="?page={{rules_list.paginator.num_pages}}">尾页</a>
{% else%}
   <span class="color_a">尾页&nbsp;</a></span>   
{% endif %}


{% if rules_list %}
第<input name="goto" id="goto" class="input" type="text" style="ime-mode:Disabled"/>页<input type="button" class="switch_bn" value="转到" onclick="javascript:GoPage('goto',{{ rules_list.paginator.num_pages }},'/rules/')"/>
{% else %}
到第<input name="goto" id="goto" class="input" type="text" style="ime-mode:Disabled"/>页<input type="button" class="switch_bn" value="转到" onclick="javascript:GoPage('goto',1,'/rules/')"/>
{% endif %}
</span>
		</div>
		{% endif %}

                                <div class="clear"></div>                          
                            </div>
                        </td>
                        <td width="5" background="/media/images/table/table_br.gif">&nbsp;</td>
                      </tr>
                    </table>
                </div>
                
            </div>
            
{% endblock %}
