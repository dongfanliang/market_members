{% extends "base_site.html" %}
{% block content %}
        	<div class="conment-title">
            	<table border="0" cellspacing="0" cellpadding="0">
                  <tr>
                    <td class="refresh"><a href="/volume">刷新</a></td>
                    <td class="new"><a href="/volumecreate">创建</a></td>
							<td class="add"><a href="#" onclick="expan_Volume('list_form', '/volumeexpansion_')" >扩容</a></td>
                    <td class="delete"><a href="#" onclick="del_Volume('list_form')">删除</a></td>
                  </tr>
                </table>            	
            </div>
            
            <div class="conment-div">
            	
                <div class="div">
<form action="" method="post" id="list_form"> {% csrf_token %}
                	
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                      <tr>
                        	<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table">                            
                              <thead>
                                    <tr>
												<th width="4%"><div class="th_div"><span><input name="checkall" id="checkall" type="checkbox" value="" class="a_input" onclick="CheckTitle('checkbox', 'checkall')" /></span><span class="rt"></span></div></th>
                                    <th width="8%"><span>VOL ID</span></th>
                                    <th width="5%">大小（G）</th>
                                    <th width="5%">快照ID </th>
                                    <th width="5%" >状态</th>
                                    <th width="8%" >创建日期</th>
                                    <th width="6%" >实例ID </th>
                                    <th width="5%" >设备</th>
                                    <th width="5%" >绑定状态</th>
                                    <th width="8%" >绑定时间</th>
                                    <th width="12%" colspan="3">操作</th>
                              <tbody>
<form action="" method="GET" >
                                  {% for volume in volumes.object_list %}
                                  <tr class="bg-color-a">
                                    <td class="txc"><input name="checkbox" type="checkbox" id="{{ volume.attach_data.status }}" value="{{ volume.id }} {{ volume.status }}" onclick="CheckItem('checkbox', 'checkall')"/></td>
                                    <td class="txc">{{ volume.id }}</td>
                                    <td class="txc">{{ volume.size }}</td>
                                    <td class="txc">{{ volume.snapshot_id }}</td>
                                    <td class="txc">{{ volume.status }}</td>
                                    <td class="txc">{{ volume.create_time }}</td>
                                    <td class="txc">{{ volume.attach_data.instance_id }}</td>
                                    <td class="txc">{{ volume.attach_data.device }}</td>
                                    <td class="txc">{{ volume.attach_data.status}}</td>
                                    <td class="txc">{{ volume.attach_data.attach_time}}</td>
                                    <td class="txc"><a href="/volumesnapshotcreate/?vol_id={{ volume.id }}">创建快照</a></td>
                                    <td class="txc"><a href="/volumeattach/?vol_id={{ volume.id }}" >绑定实例</a></td>
                                    <td class="txc"><a href="#" onclick="detach_Volume('{{ volume.id }}', '{{ volume.status }}','{{ volume.attach_data.status }}')">移除绑定</a></td>
                                  </tr>
                                  {% endfor %}
</form>
                              </tbody>
                            </table>
                        </td>
                        <td width="5" background="/media/images/table/table_r.gif"></td>
                      </tr>
                      <tr>
                        <td width="5" height="28" background="/media/images/table/table_bl.gif"></td>
                        <td background="/media/images/table/table_bc.gif" height="28">
                        	<div class="div_page">
                            	<div class="total">共有 <span>{{ num_volumes }}</span> 条记录，<span class="current">当前第 <b>
{% if volumes %}
{{volumes.number}}/{{volumes.paginator.num_pages}}
{% else%}
1/1
{% endif %}
</b> 页 </span></div>
 {% if not page_num == 1%}              
                <div class="bn_bn">
{% if volumes %}
  {% ifequal volumes.number 1 %}
	<span class="color_a">首页</a></span>
  {% else %}
    <span class="color_a"><a href="?page=1">首页</a></span>
  {% endifequal %}
{% endif %}

{% if volumes.has_previous %}
<a href="?page={{ volumes.previous_page_number }}">上一页</a>
{% endif %}

<span>
{% for p in page_range %}
  {% if volumes %}
	  {% ifequal p volumes.number %}
	   <span> {{ p }} </span>
	  {% else %}
	    <a href="?page={{ p }}" title="第{{ p }}页">{{p}}</a>
	  {% endifequal %}
  {% else %}
          <span> {{ p }} </span>
  {% endif %}
{% endfor %}
</span>

{% if volumes.has_next %}
   <a href="?page={{ volumes.next_page_number }}">下一页</a>
   <a href="?page={{volumes.paginator.num_pages}}">尾页</a>
{% else%}
   <span class="color_a">尾页&nbsp;</a></span>   
{% endif %}


{% if volumes %}
第<input name="goto" id="goto" class="input" type="text" style="ime-mode:Disabled" onkeydown=" return goto_page(event)"/>页<input type="button" class="switch_bn" name="turn_page" id="turn_page" value="转到" onclick="javascript:GoPage('goto',{{ volumes.paginator.num_pages }},'/volume/')"/>
{% else %}
到第<input name="goto" id="goto" class="input" type="text" style="ime-mode:Disabled" onkeydown=" return goto_page(event)"/>页<input type="button" class="switch_bn" name="turn_page" id="turn_page" value="转到" onclick="javascript:GoPage('goto',1,'/volume/')"/>
{% endif %}
</span>
		</div>
		{% endif %}


                            	<div class="clear"></div>
                            </div>
                        </td>
                        <td width="5" background="/media/images/table/table_br.gif">&nbsp;</td>
                      </tr>
                    </table>
</form>
                </div>
            </div>
        </div>
{% endblock %}
