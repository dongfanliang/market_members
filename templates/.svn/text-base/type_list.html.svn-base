{% extends "base_site.html" %}
{% block content %}

<div class="conment">
        	<div class="conment-title">
					   <form id="vmtypeform" method="POST">{% csrf_token %}
            	<table border="0" cellspacing="0" cellpadding="0">
                  <tr> 
				  <td class="refresh"><a href="/typelist/">刷新</a></td>
                   <!-- <td class="new"><a href="/newtype">新建</a></td>
                    <td class="edit"><a href="#" onclick="vmtype_edit('cb','vmtypeform','/edittype/')">编辑</a></td>
                   <td class="delete"><a href="#" onclick="vmtype_delete('cb','vmtypeform','/deletetype/')">删除</a></td>-->
                  </tr>
                </table>            	
            </div>
            
            <div class="conment-div">
            	
                <div class="div">
                	
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                      <tr>
                        <td width="5" background="/media/images/table/table_l.gif"></td>
                        <td>
                   
                        	<table width="100%" border="0" cellspacing="0" cellpadding="0" class="table">                            
                              <thead>
                                    <tr>
								<!--	<th width="10%"><div class="th_div"><span class="rt">{{resource.cluster.cluster_name}}</span></div></th>-->
								<!--<th width="10%"><div class="th_div"><span class="rt"></span></div></th>-->
                                    <th width="20%"><span>硬件资源模板</span></th>
                                    <th width="20%"><span>CPU个数（个）</span></th>
                                    <th width="20%"><span>内存（M）</span></th>
                                    <th width="20%" ><span>硬盘(G)</span></th>
								   {% if user == 'admin' %}
												<th width="10%" ><span>操作</span></th>
									{% endif %}
									</tr>
									</thead>
                              <tbody  >
                                  {% for vmtype in resource.object_list%}
                                  <tr class="bg-color-a">
                    <!--                <td class="txc"><input name="cb" type="checkbox" value="{{ vmtype.type_name }},{{vmtype.type_core}},{{ vmtype.type_disk }},{{ vmtype.type_mem }}" onclick="selectOne(this)"></td>-->
                                    <td class="txc">{{ vmtype.type_name }}</td>
                                    <td class="txc">
														{{ vmtype.type_core }}
														{% if vmtype.type_core.errors%}
														{% for error in vmtype.type_core.errors %}
														<span class="error">{{error}}</span>
														{% endfor %}
														{% endif %}
												</td>
				    							<td class="txc">
														{{ vmtype.type_mem }}
														{% if vmtype.type_mem.errors%}
														{% for error in vmtype.type_mem.errors %}
														<span class="error">{{error}}</span>
														{% endfor %}
														{% endif %}
												</td> 
                                    <td class="txc">
														{{ vmtype.type_disk }}
														{% if vmtype.type_disk.errors%}
														{% for error in vmtype.type_disk.errors %}
														<span class="error">{{error}}</span>
														{% endfor %}
														{% endif %}
												</td>
												 {% if user == 'admin' %}
												<td class="txc">
													<input type="button" value="编辑"  class="switch_bn" onclick="submit_form('vmtypeform', '/edittype_{{ vmtype.type_name }},{{vmtype.type_core}},{{ vmtype.type_disk }},{{ vmtype.type_mem }}/')"/>
												</td>
												{% endif %}
                                  </tr>
                                  {% endfor %}
                              </tbody>
                            </table>
                     
                        </td>
                        <td width="5" background="/media/images/table/table_r.gif"></td>
                      </tr>
                      <tr>
                        <td width="5" height="28" background="/media/images/table/table_bl.gif"></td>
                        <td background="/media/images/table/table_bc.gif" height="28">
                        	<div class="div_page">
                            	<div class="total">共有 <span>{{ num }}</span> 条记录，<span class="current">当前第 <b>
{% if resource %}
{{resource.number}}/{{resource.paginator.num_pages}}
{% else%}
1/1
{% endif %}
</b> 页 </span></div>
{% if resource %}
 {% if not page_num == 1%}              
                <div class="bn_bn">
{% if resource %}
  {% ifequal resource.number 1 %}
	<span class="color_a">首页</a></span>
  {% else %}
    <span class="color_a"><a href="?page=1">首页</a></span>
  {% endifequal %}
{% endif %}

{% if resource.has_previous %}
<a href="?page={{ resource.previous_page_number }}">上一页</a>
{% endif %}

<span>
{% for p in page_range %}
  {% if resource %}
	  {% ifequal p resource.number %}
	   <span> {{ p }} </span>
	  {% else %}
	    <a href="?page={{ p }}" title="第{{ p }}页">{{p}}</a>
	  {% endifequal %}
  {% else %}
          <span> {{ p }} </span>
  {% endif %}
{% endfor %}
</span>

{% if resource.has_next %}
   <a href="?page={{ resource.next_page_number }}">下一页</a>
   <a href="?page={{resource.paginator.num_pages}}">尾页</a>
{% else%}
   <span class="color_a">尾页&nbsp;</a></span>   
{% endif %}


{% if resource %}
第<input name="goto" id="goto" class="input" type="text" style="ime-mode:Disabled"/>页<input type="button" class="switch_bn" value="转到" onclick="javascript:GoPage('goto',{{ resource.paginator.num_pages }},'/typelist/')"/>
{% else %}
到第<input name="goto" id="goto" class="input" type="text" style="ime-mode:Disabled"/>页<input type="button" class="switch_bn" value="转到" onclick="javascript:GoPage('goto',1,'/typelist/')"/>
{% endif %}
</span>
		</div>
		{% endif %}
{% endif %}
                            	<div class="clear"></div>
                            </div>
                        </td>
                        <td width="5" background="/media/images/table/table_br.gif">&nbsp;</td>
                      </tr>
                    </table>
										</form>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}
